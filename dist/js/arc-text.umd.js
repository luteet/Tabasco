!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.arcText=i()}(this,(function(){"use strict";var t=function(t){var i=t.getBoundingClientRect();return{height:i.height,left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:i.width}},i=Math.PI/180,e=180/Math.PI,n=function(t){return t*i},r=function(t,i){return t*(1-Math.cos(n(i/2)))},s=function(t,i){return t.reduce((function(t,n){var r=n.width,s=r/i*e;return{"θ":t.θ+s,rotations:t.rotations.concat([t.θ+s/2])}}),{"θ":0,rotations:[]})},o=Math.PI,h=Math.max,a=Math.min;return function(){function i(i,e){void 0===e&&(e=void 0),this.element=i,this.originalHTML=this.element.innerHTML;var n=document.createElement("div"),r=document.createDocumentFragment();n.setAttribute("aria-label",this.element.innerText),n.style.position="relative",this.container=n,this.letters=function(t,i){var e=document.createElement("span"),n=t.innerText.trim();return(i?i(n):n.split("").slice()).map((function(t){var i=e.cloneNode();return i.insertAdjacentHTML("afterbegin"," "===t?"&nbsp;":t),i}))}(this.element,e),this.letters.forEach((function(t){return r.appendChild(t)})),n.appendChild(r),this.element.innerHTML="",this.element.appendChild(n);var s=window.getComputedStyle(this.element),h=s.fontSize,a=s.lineHeight;this.fontSize=parseFloat(h),this.lineHeight=parseFloat(a)||this.fontSize,this.metrics=this.letters.map(t);var u=this.metrics.reduce((function(t,i){return t+i.width}),0);this.minRadius=u/o/2+this.lineHeight,this.dir=1,this.isForceWidth=!1,this.isForceHeight=!0,this.radius=this.minRadius,this.invalidate()}return i.prototype.forceWidth=function(t){return t?(this.isForceWidth=t,this.invalidate(),this):this.isForceWidth},i.prototype.forceHeight=function(t){return t?(this.isForceHeight=t,this.invalidate(),this):this.isForceHeight},i.prototype.direction=function(t){return t?(this.dir=t,this.invalidate(),this):this.dir},i.prototype.arc=function(t){return t?(this.radius=h(this.minRadius,t),this.invalidate(),this):this.radius},i.prototype.destroy=function(){return this.element.innerHTML=this.originalHTML,this},i.prototype.refresh=function(){return this.invalidate()},i.prototype.invalidate=function(){var t=this;return cancelAnimationFrame(this.raf),this.raf=requestAnimationFrame((function(){t.render()})),this},i.prototype.render=function(){var t=this,i="center "+(-1===this.dir?-this.radius+this.lineHeight:this.radius)/this.fontSize+"em",e=this.radius-this.lineHeight,o=s(this.metrics,e),h=o.rotations,u=o.θ;if(this.letters.forEach((function(e,n){var r=e.style,s=(-.5*u+h[n])*t.dir,o="translateX("+-.5*t.metrics[n].width/t.fontSize+"em) rotate("+s+"deg)";r.position="absolute",r.bottom=-1===t.dir?"0":"auto",r.left="50%",r.transform=o,r.transformOrigin=i})),this.isForceHeight){var d=u>180?r(this.radius,u):r(e,u)+this.lineHeight;this.container.style.height=d/this.fontSize+"em"}if(this.isForceWidth){var c=function(t,i){return 2*t*Math.sin(n(i/2))}(this.radius,a(180,u));this.container.style.width=c/this.fontSize+"em"}return this},i}()}));